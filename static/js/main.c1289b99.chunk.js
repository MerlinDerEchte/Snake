(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(1),r=n.n(s),c=n(30),a=n.n(c),o=(n(37),n(2)),l=(n(38),[1,2,3]);var u=function(e){var t=Object(s.useState)(e.difficulty),n=Object(o.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(e.mirroring),u=Object(o.a)(a,2),h=u[0],d=u[1];return Object(i.jsx)("div",{id:"SettingsOverlay",children:Object(i.jsxs)("div",{id:"SettingsMain",children:[Object(i.jsx)("div",{id:"SettingsHeader",children:"Settings"}),Object(i.jsxs)("form",{id:"SettingsForm",onSubmit:function(t){return t.stopPropagation(),e.setDifficulty(r),e.setMirroring(h),void e.setShowSettings(!1)},children:[Object(i.jsxs)("div",{className:"settingPart",children:[Object(i.jsx)("div",{className:"settingPartDescription",children:"Difficulty"}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)("select",{value:r,onChange:function(e){return c(e.target.value)},children:l.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}))})})]}),Object(i.jsxs)("div",{className:"settingPart",children:[Object(i.jsx)("div",{className:"settingPartDescription",children:"Wall mirroring"}),Object(i.jsx)("div",{className:"",children:Object(i.jsxs)("select",{value:h,onChange:function(e){return function(e){switch(e){default:d(!1);break;case"true":d(!0);break;case"false":d(!1)}}(e.target.value)},children:[Object(i.jsx)("option",{value:!1,children:"false"},1),Object(i.jsx)("option",{value:!0,children:"true"},2)]})})]}),Object(i.jsx)("div",{className:"settingPart",children:Object(i.jsx)("button",{type:"submit",children:"Ok"})})]})]})})},h=n(6);var d=function(e){return Object(i.jsx)("div",{id:"gameOverOverlay",children:Object(i.jsxs)("div",{id:"gameOverOverlayCenter",children:[Object(i.jsx)("span",{id:"gameOverText",children:"GameOver"}),Object(i.jsxs)("span",{id:"scoreText",children:["Your score is: ",e.score]}),Object(i.jsx)("button",{id:"settingsButton",onClick:e.setShowSettings,children:"Settings"}),Object(i.jsx)("button",{id:"newGameButton",onClick:e.resetGame,children:"newGame"})]})})},j=n(11),m=n(31),O=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",TOP:"TOP",BOTTOM:"BOTTOM"}),f=function e(t,n){Object(j.a)(this,e),this.x=t,this.y=n},b=function(e){switch(e){case O.BOTTOM:return O.TOP;case O.TOP:return O.BOTTOM;case O.LEFT:return O.RIGHT;case O.RIGHT:return O.LEFT;default:return null}},v=function(){function e(t,n,i){Object(j.a)(this,e),this.direction=t,this.elements=n,this.eats=i}return Object(m.a)(e,[{key:"addTailElement",value:function(e){this.elements=[].concat(Object(h.a)(this.elements),[e])}},{key:"eatElement",value:function(e){this.elements=[e].concat(Object(h.a)(this.elements))}},{key:"getElements",value:function(){this.elements.map((function(e){return e}))}},{key:"getTail",value:function(){return this.elements[this.elements.length-1]}},{key:"getHeadPosition",value:function(){return this.elements[0]}},{key:"move",value:function(){switch(this.direction){default:return;case O.RIGHT:var e=this.elements[0].x+1,t=this.elements[0].y,n=new f(e,t);this.elements.pop(),this.elements.unshift(n);break;case O.LEFT:var i=new f(this.elements[0].x-1,this.elements[0].y);this.elements.pop(),this.elements.unshift(i);break;case O.TOP:var s=new f(this.elements[0].x,this.elements[0].y-1);this.elements.pop(),this.elements.unshift(s);break;case O.BOTTOM:var r=new f(this.elements[0].x,this.elements[0].y+1);this.elements.pop(),this.elements.unshift(r)}}},{key:"mirrorMove",value:function(e,t){switch(this.direction){default:return;case O.LEFT:var n=e-1,i=this.elements[0].y,s=new f(n,i);this.elements.pop(),this.elements.unshift(s);break;case O.RIGHT:var r=this.elements[0].y,c=new f(0,r);this.elements.pop(),this.elements.unshift(c);break;case O.TOP:var a=this.elements[0].x,o=new f(a,t-1);this.elements.pop(),this.elements.unshift(o);break;case O.BOTTOM:var l=this.elements[0].x,u=new f(l,0);this.elements.pop(),this.elements.unshift(u)}}},{key:"setEats",value:function(e){this.eats=e}},{key:"setDirection",value:function(e){e!==b(this.direction)&&(this.direction=e)}}]),e}(),g=(n(39),[150,100,50]);var x=function(e){var t=Object(s.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(0),l=Object(o.a)(a,2),u=l[0],j=l[1],m=Object(s.useState)(0),b=Object(o.a)(m,2),x=b[0],T=b[1],y=Object(s.useState)(new v(O.RIGHT,[new f(5,5),new f(4,5)],!1)),p=Object(o.a)(y,2),w=p[0],S=p[1],k=Object(s.useState)(new f(2,2)),E=Object(o.a)(k,2),P=E[0],M=E[1],F=Object(s.useState)([]),H=Object(o.a)(F,2),G=H[0],L=H[1],N=20,B=20,C=Object(h.a)(Array(400));function I(e){for(var t=0,n=[];t<e;t++)!1===R(t,!0)&&n.push(t);var i=n[Math.floor(Math.random()*n.length)],s=new f(i%N,Math.floor(i/B));M(s)}function R(e,t){if(t){var n=!1;return w.elements.forEach((function(t){t.x===e%N&&t.y===Math.floor(e/B)&&(n=!0)})),n}var i=!1;return w.elements.forEach((function(t,n){n>0&&t.x===e%N&&t.y===Math.floor(e/B)&&(i=!0)})),i}function D(e){if(!A)switch(e.key){default:return;case"ArrowUp":A=O.TOP;break;case"ArrowDown":A=O.BOTTOM;break;case"ArrowRight":A=O.RIGHT;break;case"ArrowLeft":A=O.LEFT}}console.log(e.mirroring);var A=null;return document.addEventListener("keydown",(function(e){return function(e,t){var n=null;return function(){var i=this,s=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,s)}),t)}}(D(e),10)})),Object(s.useEffect)((function(){if(!r)var t=setTimeout((function(){A&&w.setDirection(A),G.length>0&&G[0].x===w.getTail().x&&G[0].y===w.getTail().y&&(w.addTailElement(G[0]),G.shift(),0===G.length&&w.setEats(!1)),w.getHeadPosition().x===P.x&&w.getHeadPosition().y===P.y&&(w.setEats(!0),G.push(P),I(400),T(x+1)),console.log(e.mirroring),R(w.getHeadPosition().x+w.getHeadPosition().y*B,!1)?(console.log("hit snake"),c(!0)):0===w.elements[0].x&&w.direction===O.LEFT||19===w.elements[0].x&&w.direction===O.RIGHT||0===w.elements[0].y&&w.direction===O.TOP||19===w.elements[0].y&&w.direction===O.BOTTOM?e.mirroring?w.mirrorMove(N,B):c(!0):w.move(),j(u+1)}),g[e.difficulty-1]);return function(){clearTimeout(t),document.removeEventListener("keydown",(function(e){return D(e)}))}}),[u]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"centerContainer",children:[Object(i.jsxs)("div",{className:"scoreContainer",children:["score",x]}),Object(i.jsxs)("div",{className:"gameContainer",children:[r?Object(i.jsx)(d,{setShowSettings:e.setShowSettings,score:x,resetGame:function(){T(0),c(!1),I(400),S(new v(O.RIGHT,[new f(5,5),new f(4,5)],!1)),L([]),j(0)}}):"",C.map((function(e,t){return R(t,!0)?Object(i.jsx)("div",{className:"snakeField"},t):function(e){return P.x===e%N&&P.y===Math.floor(e/B)}(t)?Object(i.jsx)("div",{className:"elementField"},t):Object(i.jsx)("div",{className:"field"},t)}))]})]})})};n(40);var T=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(1),a=Object(o.a)(c,2),l=a[0],h=a[1],d=Object(s.useState)(!1),j=Object(o.a)(d,2),m=j[0],O=j[1];return console.log(m),Object(i.jsx)("div",{id:"mainContainer",children:n?Object(i.jsx)(u,{difficulty:l,setDifficulty:h,mirroring:m,setMirroring:O,setShowSettings:r}):Object(i.jsx)(x,{difficulty:l,mirroring:m,setShowSettings:r})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),r(e),c(e)}))};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(T,{})}),document.getElementById("root")),y()}},[[85,1,2]]]);
//# sourceMappingURL=main.c1289b99.chunk.js.map