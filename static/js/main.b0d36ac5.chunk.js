(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n(0),c=n.n(i),r=n(15),a=n.n(r),o=(n(49),n(2)),l=(n(50),n(38)),u=n.n(l),h=n(36),j=n.n(h),d=n(40),O=n.n(d),m=n(39),b=n.n(m),f=[1,2,3];var v=function(e){var t=Object(i.useState)(e.difficulty),n=Object(o.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(e.mirroring),l=Object(o.a)(a,2),h=l[0],d=l[1];return Object(s.jsx)("div",{id:"SettingsOverlay",children:Object(s.jsxs)("div",{id:"SettingsMain",children:[Object(s.jsx)("div",{id:"SettingsHeader",children:"Settings"}),Object(s.jsxs)("form",{id:"SettingsForm",onSubmit:function(t){return t.stopPropagation(),e.setDifficulty(c),e.setMirroring(h),void e.setShowSettings(!1)},children:[Object(s.jsxs)("div",{className:"settingPart",children:[Object(s.jsx)("div",{className:"settingPartDescription",children:"Navigation"}),Object(s.jsx)("div",{className:"arrowContainer",children:Object(s.jsx)(j.a,{})}),Object(s.jsxs)("div",{className:"arrowContainer",children:[Object(s.jsx)(u.a,{}),Object(s.jsx)(b.a,{}),Object(s.jsx)(O.a,{})]})]}),Object(s.jsxs)("div",{className:"settingPart",children:[Object(s.jsx)("div",{className:"settingPartDescription",children:"Difficulty"}),Object(s.jsx)("div",{className:"",children:Object(s.jsx)("select",{value:c,onChange:function(e){return r(e.target.value)},children:f.map((function(e,t){return Object(s.jsx)("option",{value:e,children:e},t)}))})})]}),Object(s.jsxs)("div",{className:"settingPart",children:[Object(s.jsx)("div",{className:"settingPartDescription",children:"Wall mirroring"}),Object(s.jsx)("div",{className:"",children:Object(s.jsxs)("select",{value:h,onChange:function(e){return function(e){switch(e){default:d(!1);break;case"true":d(!0);break;case"false":d(!1)}}(e.target.value)},children:[Object(s.jsx)("option",{value:!1,children:"false"},1),Object(s.jsx)("option",{value:!0,children:"true"},2)]})})]}),Object(s.jsx)("div",{className:"settingPart",children:Object(s.jsx)("button",{type:"submit",children:"Ok"})})]})]})})},g=n(10);var x=function(e){return Object(s.jsx)("div",{id:"gameOverOverlay",children:Object(s.jsxs)("div",{id:"gameOverOverlayCenter",children:[Object(s.jsx)("span",{id:"gameOverText",children:"GameOver"}),Object(s.jsxs)("span",{id:"scoreText",children:["Your score is: ",e.score]}),Object(s.jsx)("button",{id:"settingsButton",onClick:e.setShowSettings,children:"Settings"}),Object(s.jsx)("button",{id:"newGameButton",onClick:e.resetGame,children:"newGame"})]})})},T=n(17),y=n(41),p=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",TOP:"TOP",BOTTOM:"BOTTOM"}),w=function e(t,n){Object(T.a)(this,e),this.x=t,this.y=n},k=function(e){switch(e){case p.BOTTOM:return p.TOP;case p.TOP:return p.BOTTOM;case p.LEFT:return p.RIGHT;case p.RIGHT:return p.LEFT;default:return null}},S=function(){function e(t,n,s){Object(T.a)(this,e),this.direction=t,this.elements=n,this.eats=s}return Object(y.a)(e,[{key:"addTailElement",value:function(e){this.elements=[].concat(Object(g.a)(this.elements),[e])}},{key:"eatElement",value:function(e){this.elements=[e].concat(Object(g.a)(this.elements))}},{key:"getElements",value:function(){this.elements.map((function(e){return e}))}},{key:"getTail",value:function(){return this.elements[this.elements.length-1]}},{key:"getHeadPosition",value:function(){return this.elements[0]}},{key:"getLength",value:function(){return this.elements.length}},{key:"move",value:function(){switch(this.direction){default:return;case p.RIGHT:var e=this.elements[0].x+1,t=this.elements[0].y,n=new w(e,t);this.elements.pop(),this.elements.unshift(n);break;case p.LEFT:var s=new w(this.elements[0].x-1,this.elements[0].y);this.elements.pop(),this.elements.unshift(s);break;case p.TOP:var i=new w(this.elements[0].x,this.elements[0].y-1);this.elements.pop(),this.elements.unshift(i);break;case p.BOTTOM:var c=new w(this.elements[0].x,this.elements[0].y+1);this.elements.pop(),this.elements.unshift(c)}}},{key:"mirrorMove",value:function(e,t){switch(this.direction){default:return;case p.LEFT:var n=e-1,s=this.elements[0].y,i=new w(n,s);this.elements.pop(),this.elements.unshift(i);break;case p.RIGHT:var c=this.elements[0].y,r=new w(0,c);this.elements.pop(),this.elements.unshift(r);break;case p.TOP:var a=this.elements[0].x,o=new w(a,t-1);this.elements.pop(),this.elements.unshift(o);break;case p.BOTTOM:var l=this.elements[0].x,u=new w(l,0);this.elements.pop(),this.elements.unshift(u)}}},{key:"setEats",value:function(e){this.eats=e}},{key:"setDirection",value:function(e){e!==k(this.direction)&&(this.direction=e)}}]),e}(),P=n(42),E=n.n(P),M=(n(56),[150,100,50]);var N=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],a=Object(i.useState)(0),l=Object(o.a)(a,2),u=l[0],h=l[1],j=Object(i.useState)(0),d=Object(o.a)(j,2),O=d[0],m=d[1],b=Object(i.useState)(new S(p.RIGHT,[new w(5,5),new w(4,5)],!1)),f=Object(o.a)(b,2),v=f[0],T=f[1],y=Object(i.useState)(new w(2,2)),k=Object(o.a)(y,2),P=k[0],N=k[1],F=Object(i.useState)([]),H=Object(o.a)(F,2),L=H[0],G=H[1],C=20,B=20,I=Object(g.a)(Array(400));function R(e){for(var t=0,n=[];t<e;t++)!1===D(t,!0)&&n.push(t);var s=n[Math.floor(Math.random()*n.length)],i=new w(s%C,Math.floor(s/B));N(i)}function D(e,t){if(t){var n=!1;return v.elements.forEach((function(t){t.x===e%C&&t.y===Math.floor(e/B)&&(n=!0)})),n}var s=!1;return v.elements.forEach((function(t,n){n>0&&t.x===e%C&&t.y===Math.floor(e/B)&&(s=!0)})),s}function A(e){if(!J)switch(e.key){default:return;case"ArrowUp":J=p.TOP;break;case"ArrowDown":J=p.BOTTOM;break;case"ArrowRight":J=p.RIGHT;break;case"ArrowLeft":J=p.LEFT}}console.log(e.mirroring);var J=null;return document.addEventListener("keydown",(function(e){return function(e,t){var n=null;return function(){var s=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(s,i)}),t)}}(A(e),10)})),Object(i.useEffect)((function(){if(!c)var t=setTimeout((function(){J&&v.setDirection(J),L.length>0&&L[0].x===v.getTail().x&&L[0].y===v.getTail().y&&(v.addTailElement(L[0]),L.shift(),0===L.length&&v.setEats(!1)),v.getHeadPosition().x===P.x&&v.getHeadPosition().y===P.y&&(v.setEats(!0),L.push(P),R(400),m(O+1)),D(v.getHeadPosition().x+v.getHeadPosition().y*B,!1)?(console.log("hit snake"),r(!0)):0===v.elements[0].x&&v.direction===p.LEFT||19===v.elements[0].x&&v.direction===p.RIGHT||0===v.elements[0].y&&v.direction===p.TOP||19===v.elements[0].y&&v.direction===p.BOTTOM?e.mirroring?v.mirrorMove(C,B):r(!0):v.move(),h(u+1)}),M[e.difficulty-1]);return function(){clearTimeout(t),document.removeEventListener("keydown",(function(e){return A(e)}))}}),[u]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"centerContainer",children:[Object(s.jsxs)("div",{className:"scoreContainer",children:["Score: ",O]}),Object(s.jsxs)("div",{className:"gameContainer",children:[c?Object(s.jsx)(x,{setShowSettings:e.setShowSettings,score:O,resetGame:function(){m(0),r(!1),R(400),T(new S(p.RIGHT,[new w(5,5),new w(4,5)],!1)),G([]),h(0)}}):"",I.map((function(e,t){return function(e){var t=v.elements[0];return e%C===t.x&&Math.floor(e/B)===t.y}(t)?Object(s.jsx)("div",{id:"snakeHead"},t):D(t,!1)?v.getLength()<10?Object(s.jsx)("div",{className:"shortSnakeField"},t):v.getLength()<30?Object(s.jsx)("div",{className:"middleSnakeField",children:"o"},t):Object(s.jsx)("div",{className:"longSnakeField",children:"X"},t):function(e){return P.x===e%C&&P.y===Math.floor(e/B)}(t)?Object(s.jsx)("div",{className:"elementField",children:Object(s.jsx)(E.a,{})},t):Object(s.jsx)("div",{className:"field"},t)}))]})]})})};n(57);var F=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(1),a=Object(o.a)(r,2),l=a[0],u=a[1],h=Object(i.useState)(!1),j=Object(o.a)(h,2),d=j[0],O=j[1];return console.log(d),Object(s.jsx)("div",{id:"mainContainer",children:n?Object(s.jsx)(v,{difficulty:l,setDifficulty:u,mirroring:d,setMirroring:O,setShowSettings:c}):Object(s.jsx)(N,{difficulty:l,mirroring:d,setShowSettings:c})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),c(e),r(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(F,{})}),document.getElementById("root")),H()},49:function(e,t,n){},50:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.b0d36ac5.chunk.js.map