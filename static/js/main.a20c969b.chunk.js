(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(0),c=n.n(s),r=n(16),a=n.n(r),o=(n(49),n(2)),l=(n(50),n(39)),h=n.n(l),u=n(37),d=n.n(u),j=n(41),O=n.n(j),g=n(40),m=n.n(g),b=[1,2,3];var f=function(e){var t=Object(s.useState)(e.difficulty),n=Object(o.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(e.mirroring),l=Object(o.a)(a,2),u=l[0],j=l[1];return Object(i.jsx)("div",{id:"SettingsOverlay",children:Object(i.jsxs)("div",{id:"SettingsMain",children:[Object(i.jsx)("div",{id:"SettingsHeader",children:"Settings"}),Object(i.jsxs)("form",{id:"SettingsForm",onSubmit:function(t){return t.stopPropagation(),e.setDifficulty(c),e.setMirroring(u),void e.setShowSettings(!1)},children:[Object(i.jsxs)("div",{className:"settingPart",children:[Object(i.jsx)("div",{className:"settingPartDescription",children:"Navigation"}),Object(i.jsx)("div",{className:"arrowContainer",children:Object(i.jsxs)("div",{className:"arrowOrLetter",children:[Object(i.jsx)(d.a,{})," ",Object(i.jsx)("span",{children:"/ W"})]})}),Object(i.jsxs)("div",{className:"arrowContainer",children:[Object(i.jsxs)("div",{className:"arrowOrLetter",children:[Object(i.jsx)(h.a,{}),"  ",Object(i.jsx)("span",{children:"/ A"})]}),Object(i.jsxs)("div",{className:"arrowOrLetter",children:[Object(i.jsx)(m.a,{})," ",Object(i.jsx)("span",{children:"/ S"})]}),Object(i.jsxs)("div",{className:"arrowOrLetter",children:[Object(i.jsx)(O.a,{})," ",Object(i.jsx)("span",{children:"/ D"})]})]})]}),Object(i.jsxs)("div",{className:"settingPart",children:[Object(i.jsx)("div",{className:"settingPartDescription",children:"Difficulty"}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)("select",{value:c,onChange:function(e){return r(e.target.value)},children:b.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}))})})]}),Object(i.jsxs)("div",{className:"settingPart",children:[Object(i.jsx)("div",{className:"settingPartDescription",children:"Wall mirroring"}),Object(i.jsx)("div",{className:"",children:Object(i.jsxs)("select",{value:u,onChange:function(e){return function(e){switch(e){default:j(!1);break;case"true":j(!0);break;case"false":j(!1)}}(e.target.value)},children:[Object(i.jsx)("option",{value:!1,children:"false"},1),Object(i.jsx)("option",{value:!0,children:"true"},2)]})})]}),Object(i.jsx)("div",{className:"settingPart",children:Object(i.jsx)("button",{id:"submitButton",type:"submit",children:"Play"})})]})]})})},v=n(11),x=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",TOP:"TOP",BOTTOM:"BOTTOM"}),T=n(6),w=function e(t,n){Object(T.a)(this,e),this.x=t,this.y=n},p=n(18),y=function(){function e(t,n){Object(T.a)(this,e),this.width=t,this.height=n}return Object(p.a)(e,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}}]),e}();var k=function(e){return Object(i.jsx)("div",{id:"gameOverOverlay",children:Object(i.jsxs)("div",{id:"gameOverOverlayCenter",children:[Object(i.jsx)("span",{id:"gameOverText",children:"GameOver"}),Object(i.jsxs)("span",{id:"scoreText",children:["Your score is: ",e.score]}),Object(i.jsx)("button",{id:"settingsButton",onClick:e.setShowSettings,children:"Settings"}),Object(i.jsx)("button",{id:"newGameButton",onClick:e.resetGame,children:"newGame"})]})})},S=function(e){switch(e){case x.BOTTOM:return x.TOP;case x.TOP:return x.BOTTOM;case x.LEFT:return x.RIGHT;case x.RIGHT:return x.LEFT;default:return null}},H=function(){function e(t,n,i){Object(T.a)(this,e),this.direction=t,this.elements=n,this.eats=i}return Object(p.a)(e,[{key:"addTailElement",value:function(e){this.elements=[].concat(Object(v.a)(this.elements),[e])}},{key:"eatElement",value:function(e){this.elements=[e].concat(Object(v.a)(this.elements))}},{key:"getElements",value:function(){this.elements.map((function(e){return e}))}},{key:"getTail",value:function(){return this.elements[this.elements.length-1]}},{key:"getHeadPosition",value:function(){return this.elements[0]}},{key:"getLength",value:function(){return this.elements.length}},{key:"move",value:function(){switch(this.direction){default:return;case x.RIGHT:var e=this.elements[0].x+1,t=this.elements[0].y,n=new w(e,t);this.elements.pop(),this.elements.unshift(n);break;case x.LEFT:var i=new w(this.elements[0].x-1,this.elements[0].y);this.elements.pop(),this.elements.unshift(i);break;case x.TOP:var s=new w(this.elements[0].x,this.elements[0].y-1);this.elements.pop(),this.elements.unshift(s);break;case x.BOTTOM:var c=new w(this.elements[0].x,this.elements[0].y+1);this.elements.pop(),this.elements.unshift(c)}}},{key:"mirrorMove",value:function(e,t){switch(this.direction){default:return;case x.LEFT:var n=e-1,i=this.elements[0].y,s=new w(n,i);this.elements.pop(),this.elements.unshift(s);break;case x.RIGHT:var c=this.elements[0].y,r=new w(0,c);this.elements.pop(),this.elements.unshift(r);break;case x.TOP:var a=this.elements[0].x,o=new w(a,t-1);this.elements.pop(),this.elements.unshift(o);break;case x.BOTTOM:var l=this.elements[0].x,h=new w(l,0);this.elements.pop(),this.elements.unshift(h)}}},{key:"setEats",value:function(e){this.eats=e}},{key:"setDirection",value:function(e){e!==S(this.direction)&&(this.direction=e)}}]),e}(),P=n(42),M=n.n(P);var N=function(e,t){var n,i;return function(){var s=this,c=arguments;i?(clearTimeout(n),n=setTimeout((function(){Date.now()-i>=t&&(e.apply(s,c),i=Date.now())}),t-(Date.now()-i))):(e.apply(s,c),i=Date.now())}},E=[150,100,50];var C=function(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(new w(2,2)),l=Object(o.a)(a,2),h=l[0],u=l[1],d=Object(s.useState)(new y(20,20)),j=Object(o.a)(d,2),O=j[0],g=(j[1],Object(s.useState)(!1)),m=Object(o.a)(g,2),b=m[0],f=m[1],T=Object(s.useState)(0),p=Object(o.a)(T,2),S=p[0],P=p[1],C=Object(s.useState)(0),L=Object(o.a)(C,2),F=L[0],W=L[1],D=Object(s.useState)(new H(x.RIGHT,[new w(5,5),new w(4,5)],!1)),G=Object(o.a)(D,2),B=G[0],I=G[1],R=Object(v.a)(Array(O.getWidth()*O.getHeight())),A=e.mirroring?"gameContainer mirrorWall":"gameContainer solidWall";function J(e){for(var t=0,n=[];t<e;t++)!1===z(t,!0)&&n.push(t);var i=n[Math.floor(Math.random()*n.length)],s=new w(i%O.getWidth(),Math.floor(i/O.getHeight()));u(s)}function z(e,t){if(t){var n=!1;return B.elements.forEach((function(t){t.x===e%O.getWidth()&&t.y===Math.floor(e/O.getHeight())&&(n=!0)})),n}var i=!1;return B.elements.forEach((function(t,n){n>0&&t.x===e%O.getWidth()&&t.y===Math.floor(e/O.getHeight())&&(i=!0)})),i}function U(e,t){e.preventDefault(),e.stopPropagation(),console.log("clicked");var n=Math.floor(t/O.getHeight())<=3,i=Math.floor(t/O.getHeight())>=16,s=t%O.getWidth()<=3,c=t%O.getWidth()>=16;!n||s||c||(console.log("top"),X=x.TOP),!i||s||c||(X=x.BOTTOM),!c||i||n||(X=x.RIGHT),!s||i||n||(X=x.LEFT)}var X=null,Y=function(e){return N(function(e){if(!X)switch(e.key){default:return;case"w":case"W":case"ArrowUp":X=x.TOP;break;case"s":case"S":case"ArrowDown":X=x.BOTTOM;break;case"d":case"D":case"ArrowRight":X=x.RIGHT;break;case"a":case"A":case"ArrowLeft":X=x.LEFT}}(e),500)};return document.addEventListener("keydown",(function(e){return Y(e)})),Object(s.useEffect)((function(){if(!b)var t=setTimeout((function(){X&&B.setDirection(X),c.length>0&&c[0].x===B.getTail().x&&c[0].y===B.getTail().y&&(B.addTailElement(c[0]),c.shift(),0===c.length&&B.setEats(!1)),B.getHeadPosition().x===h.x&&B.getHeadPosition().y===h.y&&(B.setEats(!0),c.push(h),J(O.getHeight()*O.getWidth()),W(F+1)),z(B.getHeadPosition().x+B.getHeadPosition().y*O.getHeight(),!1)?(console.log("hit snake"),f(!0)):0===B.elements[0].x&&B.direction===x.LEFT||B.elements[0].x===O.getWidth()-1&&B.direction===x.RIGHT||0===B.elements[0].y&&B.direction===x.TOP||B.elements[0].y===O.getHeight()-1&&B.direction===x.BOTTOM?e.mirroring?B.mirrorMove(O.getWidth(),O.getHeight()):f(!0):B.move(),P(S+1)}),E[e.difficulty-1]);return function(){clearTimeout(t),document.removeEventListener("keydown",(function(e){return Y(e)}))}}),[S]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"centerContainer",children:[Object(i.jsxs)("div",{className:"scoreContainer",children:["Score: ",F]}),Object(i.jsxs)("div",{className:A,children:[b?Object(i.jsx)(k,{setShowSettings:e.setShowSettings,score:F,resetGame:function(){W(0),f(!1),J(O.getWidth()*O.getHeight()),I(new H(x.RIGHT,[new w(5,5),new w(4,5)],!1)),r([]),P(0)}}):"",R.map((function(e,t){return function(e){var t=B.elements[0];return e%O.getWidth()===t.x&&Math.floor(e/O.getHeight())===t.y}(t)?Object(i.jsx)("div",{id:"snakeHead",onClick:function(e){return U(e,t)}},t):z(t,!1)?B.getLength()<30?Object(i.jsx)("div",{className:"shortSnakeField",onClick:function(e){return U(e,t)},children:Object(i.jsx)("span",{children:"+"})},t):B.getLength()<50?Object(i.jsx)("div",{className:"middleSnakeField",onClick:function(e){return U(e,t)},children:"O"},t):Object(i.jsx)("div",{className:"longSnakeField",onClick:function(e){return U(e,t)},children:"X"},t):function(e){return h.x===e%O.getWidth()&&h.y===Math.floor(e/O.getHeight())}(t)?Object(i.jsx)("div",{className:"elementField",onClick:function(e){return U(e,t)},children:Object(i.jsx)(M.a,{})},t):Object(i.jsx)("div",{className:"field",onClick:function(e){return U(e,t)}},t)}))]})]})})};n(56);var L=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(1),a=Object(o.a)(r,2),l=a[0],h=a[1],u=Object(s.useState)(!1),d=Object(o.a)(u,2),j=d[0],O=d[1];return console.log(j),Object(i.jsx)("div",{id:"mainContainer",children:n?Object(i.jsx)(f,{difficulty:l,setDifficulty:h,mirroring:j,setMirroring:O,setShowSettings:c}):Object(i.jsx)(C,{difficulty:l,mirroring:j,setShowSettings:c})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))};a.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(L,{})}),document.getElementById("root")),F()},49:function(e,t,n){},50:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.a20c969b.chunk.js.map